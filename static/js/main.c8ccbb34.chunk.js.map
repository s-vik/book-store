{"version":3,"sources":["actions/cart.js","components/Menu.jsx","containers/Menu.js","components/Card.jsx","containers/card.js","actions/filter.js","components/Filter.jsx","containers/Filter.js","components/App.jsx","reducers/books.js","containers/App.js","actions/books.js","reducers/cart.js","reducers/filter.js","reducers/index.js","store.js","index.js"],"names":["addBookToCart","obj","type","payload","removeBookFromCart","id","CartComponent","title","image","List","selection","divided","verticalAlign","Item","Content","floated","Button","onClick","bind","color","Image","avatar","src","TopMenu","totalPrice","quantityBooks","items","Menu","name","position","Popup","trigger","content","map","book","on","hideOnScroll","connect","cart","goods","reduce","total","current","price","length","uniqBy","o","dispatch","bindActionCreators","cartAction","BookCard","author","Card","wrapped","ui","Header","Meta","className","extra","Cart","setFilterBy","filter","setSearchQuery","value","Filter","filterBy","searchQuery","secondary","active","Input","icon","onChange","e","target","placeholder","filterAction","App","books","isReady","Container","Group","itemsPerRow","index","key","initialState","stateForDemo","searchBooks","orderBy","filterWithLodash","toLowerCase","indexOf","queryFilter","AppContainer","this","props","getBooks","Component","combineReducers","state","action","createStore","rootReducers","applyMiddleware","logger","reduxThunk","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.c8ccbb34.chunk.js","sourcesContent":["export const addBookToCart = (obj) => ({\r\n    type: 'ADD_BOOK_TO_CART',\r\n    payload: obj\r\n});\r\nexport const removeBookFromCart = (id) => ({\r\n    type: 'REMOVE_BOOK_FROM_CART',\r\n    payload: id\r\n});","import React from 'react'\r\nimport { Menu,  Popup, List, Button, Image } from 'semantic-ui-react'\r\n\r\nconst CartComponent = ({ title, id, image, removeBookFromCart }) => {\r\n  return (\r\n    <List selection divided verticalAlign=\"middle\">\r\n      <List.Item>\r\n        <List.Content floated=\"right\">\r\n          <Button onClick={removeBookFromCart.bind(null, id)} color=\"red\">\r\n            Удалить\r\n          </Button>\r\n        </List.Content>\r\n        <Image avatar src={image} />\r\n        <List.Content>{title}</List.Content>\r\n      </List.Item>\r\n    </List>\r\n  );\r\n}\r\n\r\n\r\n const TopMenu = ({totalPrice, quantityBooks, items}) => {\r\n    return (\r\n      <Menu>\r\n        <Menu.Item\r\n          name='browse'\r\n        >\r\n          Магазин книг\r\n        </Menu.Item>\r\n\r\n        <Menu.Menu position='right'>\r\n          <Menu.Item\r\n            name='signup'\r\n          >\r\n            Итого: &nbsp; <b>{totalPrice}</b>&nbsp; грн.\r\n          </Menu.Item>\r\n          <Popup\r\n        trigger={\r\n          <Menu.Item\r\n            name='help'\r\n          >\r\n            Корзина (<b>{quantityBooks}</b>)\r\n          </Menu.Item>\r\n        }\r\n        content={items.map(book => (\r\n          <CartComponent {...book} />\r\n        ))}\r\n        on=\"click\"\r\n        hideOnScroll\r\n      />\r\n          \r\n        </Menu.Menu>\r\n      </Menu>\r\n    )\r\n}\r\n\r\nexport default TopMenu;","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as cartAction from '../actions/cart';\r\nimport Menu from '../components/Menu';\r\n\r\nimport uniqBy from 'lodash/uniqBy';\r\n\r\nconst mapStateToProps = ({cart}) => {\r\n    return {\r\n        totalPrice: cart.goods.reduce((total, current) => total + current.price, 0),\r\n        quantityBooks: cart.goods.length,\r\n        items: uniqBy(cart.goods, o => o.id),\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        ...bindActionCreators(cartAction,dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);","import React from 'react';\r\nimport { Card, Image, Button } from 'semantic-ui-react';\r\n\r\nconst BookCard = (book) => {\r\n    const { title, author, image, price, addBookToCart, quantityBooks } = book;\r\n    return (\r\n        <Card>\r\n            <Image src={image} wrapped ui={false} />\r\n            <Card.Content>\r\n                <Card.Header>{title}</Card.Header>\r\n                <Card.Meta>\r\n                    <span className='date'>{author}</span>\r\n                </Card.Meta>\r\n            </Card.Content>\r\n            <Card.Content extra>\r\n                <span>\r\n                    {price} грн.\r\n            </span>\r\n            </Card.Content>\r\n            <Button onClick={addBookToCart.bind(null,book)}>Добавить в корзину {quantityBooks > 0 && `(${quantityBooks})`}</Button>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default BookCard;\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as cartAction from '../actions/cart';\r\n\r\nimport Cart from '../components/Card';\r\n\r\nconst mapStateToProps = ({cart}, {id}) => {\r\n    return {\r\n        quantityBooks: cart.goods.reduce((total,book) => total + (book.id === id? 1 : 0), 0)\r\n    }\r\n  }\r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      ...bindActionCreators(cartAction, dispatch)\r\n    }\r\n  }\r\n  export default connect(mapStateToProps, mapDispatchToProps)(Cart);","export const setFilterBy = (filter) => ({\r\n    type: 'SET_FILTER_BY',\r\n    payload: filter\r\n});\r\nexport const setSearchQuery = (value) => ({\r\n    type: 'SET_SEARCH_QUERY',\r\n    payload: value\r\n});","import React from 'react'\r\nimport { Menu, Input } from 'semantic-ui-react'\r\n\r\nconst Filter = ({setFilterBy,filterBy,searchQuery,setSearchQuery}) => {\r\n  return (\r\n    <Menu secondary>\r\n      <Menu.Item\r\n        active={filterBy === 'all'}\r\n        onClick={setFilterBy.bind(null,'all')}\r\n      >Все</Menu.Item>\r\n      <Menu.Item\r\n        active={filterBy === 'price_high'}\r\n        onClick={setFilterBy.bind(null,'price_high')}\r\n      >Цена(дорогие)</Menu.Item>\r\n      <Menu.Item\r\n        active={filterBy === 'price_low'}\r\n        onClick={setFilterBy.bind(null,'price_low')}\r\n      >Цена(дешевые)</Menu.Item>\r\n      <Menu.Item\r\n        active={filterBy === 'author'}\r\n        onClick={setFilterBy.bind(null,'author')}\r\n      >Автор</Menu.Item>\r\n      <Menu.Item\r\n        active={filterBy === 'alphabet'}\r\n        onClick={setFilterBy.bind(null,'alphabet')}\r\n      >В алфавитном порядке</Menu.Item>\r\n      <Menu.Item>\r\n      <Input icon='search' onChange={(e)=>setSearchQuery(e.target.value)} value={searchQuery} placeholder='Введите запрос...'/>\r\n      </Menu.Item>\r\n\r\n    </Menu>\r\n  )\r\n}\r\nexport default Filter;","import { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as filterAction from './../actions/filter';\r\nimport Filter from '../components/Filter';\r\n\r\nconst mapStateToProps = ({filter}) => {\r\n    return {\r\n        filterBy: filter.filterBy,\r\n        searchQuery: filter.searchQuery\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        ...bindActionCreators(filterAction,dispatch)\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Filter);\r\n\r\n\r\n","import React from 'react';\n\nimport TopMenu from '../containers/Menu';\nimport { Container, Card } from 'semantic-ui-react'\nimport BookCard from '../containers/card';\nimport Filter from '../containers/Filter';\n\n\nconst App = ({ books, isReady}) => (\n  <Container>\n        <TopMenu />\n        <Filter/>\n        <div className='margTop'>\n          <Card.Group itemsPerRow={4}>\n            {!isReady ?\n              'Loading...'\n              : books.map((book, index) => <BookCard key={index} {...book} />)}\n          </Card.Group>\n        </div>\n      </Container>\n);\n\n\nexport default App;\n\n","import { booksAPI } from \"../api/api\"\r\nimport { setBooks } from \"../actions/books\"\r\n\r\n\r\nconst initialState = {\r\n    isReady: false,\r\n    books: null\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_BOOKS':\r\n            return {\r\n                ...state,\r\n                books: action.payload,\r\n                isReady: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst stateForDemo = [\r\n    {\r\n      \"id\": 0,\r\n      \"title\": \"Происхождение\",\r\n      \"author\": \"Дэн Браун\",\r\n      \"image\": \"/images/book_image.jpg\",\r\n      \"price\": 710,\r\n      \"rating\": 3\r\n    },\r\n    {\r\n      \"id\": 1,\r\n      \"title\": \"1984\",\r\n      \"author\": \"Джордж Оруэлл\",\r\n      \"image\": \"/images/book_image_1.jpg\",\r\n      \"price\": 415,\r\n      \"rating\": 5\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"title\": \"Девушка в тумане\",\r\n      \"author\": \"Донато Карризи\",\r\n      \"image\": \"/images/book_image_2.jpg\",\r\n      \"price\": 464,\r\n      \"rating\": 4\r\n    },\r\n    {\r\n      \"id\": 3,\r\n      \"title\": \"Империя должна умереть\",\r\n      \"author\": \"Михаил Зыгарь\",\r\n      \"image\": \"/images/book_image_3.jpg\",\r\n      \"price\": 741,\r\n      \"rating\": 3\r\n    },\r\n    {\r\n      \"id\": 4,\r\n      \"title\": \"Земное притяжение\",\r\n      \"author\": \"Татьяна Устинова\",\r\n      \"image\": \"/images/book_image_4.jpg\",\r\n      \"price\": 317,\r\n      \"rating\": 1\r\n    },\r\n    {\r\n      \"id\": 5,\r\n      \"title\": \"Зулейха открывает глаза\",\r\n      \"author\": \"Гузель Яхина\",\r\n      \"image\": \"/images/book_image_5.jpg\",\r\n      \"price\": 254,\r\n      \"rating\": 0\r\n    },\r\n    {\r\n      \"id\": 6,\r\n      \"title\": \"Очаровательный кишечник. Как самый могущественный орган управляет нами\",\r\n      \"author\": \"Джулия Эндерс\",\r\n      \"image\": \"/images/book_image_6.jpg\",\r\n      \"price\": 573,\r\n      \"rating\": 4\r\n    },\r\n    {\r\n      \"id\": 7,\r\n      \"title\": \"iPhuck 10\",\r\n      \"author\": \"Виктор Пелевин\",\r\n      \"image\": \"/images/book_image_7.jpg\",\r\n      \"price\": 246,\r\n      \"rating\": 0\r\n    },\r\n    {\r\n      \"id\": 8,\r\n      \"title\": \"7 навыков высокоэффективных людей: Мощные...\",\r\n      \"author\": \"Стивен Кови\",\r\n      \"image\": \"/images/book_image_8.jpg\",\r\n      \"price\": 347,\r\n      \"rating\": 5\r\n    },\r\n    {\r\n      \"id\": 9,\r\n      \"title\": \"Девушка во льду\",\r\n      \"author\": \"Роберт Брындза\",\r\n      \"image\": \"/images/book_image_9.jpg\",\r\n      \"price\": 882,\r\n      \"rating\": 2\r\n    },\r\n    {\r\n      \"id\": 10,\r\n      \"title\": \"Магия утра. Как первый час дня определяет ваш успех\",\r\n      \"author\": \"Хэл Элрод\",\r\n      \"image\": \"/images/book_image_10.jpg\",\r\n      \"price\": 829,\r\n      \"rating\": 1\r\n    },\r\n    {\r\n      \"id\": 11,\r\n      \"title\": \"Азиатская европеизация. История Российского государства. Царь Петр...\",\r\n      \"author\": \"Борис Акунин\",\r\n      \"image\": \"/images/book_image_11.jpg\",\r\n      \"price\": 389,\r\n      \"rating\": 2\r\n    },\r\n    {\r\n      \"id\": 12,\r\n      \"title\": \"Ведьмак (сборник)\",\r\n      \"author\": \"Анджей Сапковский\",\r\n      \"image\": \"/images/book_image_12.jpg\",\r\n      \"price\": 424,\r\n      \"rating\": 3\r\n    },\r\n    {\r\n      \"id\": 13,\r\n      \"title\": \"Атлант расправил плечи\",\r\n      \"author\": \"Айн Рэнд\",\r\n      \"image\": \"/images/book_image_13.jpg\",\r\n      \"price\": 157,\r\n      \"rating\": 2\r\n    },\r\n    {\r\n      \"id\": 14,\r\n      \"title\": \"Цена вопроса. Том 1\",\r\n      \"author\": \"Александра Маринина\",\r\n      \"image\": \"/images/book_image_14.jpg\",\r\n      \"price\": 664,\r\n      \"rating\": 0\r\n    },\r\n    {\r\n      \"id\": 15,\r\n      \"title\": \"Исчезнувшая\",\r\n      \"author\": \"Гиллиан Флинн\",\r\n      \"image\": \"/images/book_image_15.jpg\",\r\n      \"price\": 476,\r\n      \"rating\": 4\r\n    },\r\n    {\r\n      \"id\": 17,\r\n      \"title\": \"Метро 2035\",\r\n      \"author\": \"Дмитрий Глуховский\",\r\n      \"image\": \"/images/book_image_16.jpg\",\r\n      \"price\": 837,\r\n      \"rating\": 4\r\n    },\r\n    {\r\n      \"id\": 18,\r\n      \"title\": \"Снеговик\",\r\n      \"author\": \"Ю Несбё\",\r\n      \"image\": \"/images/book_image_17.jpg\",\r\n      \"price\": 796,\r\n      \"rating\": 5\r\n    },\r\n    {\r\n      \"id\": 19,\r\n      \"title\": \"Как тренировать память. Не думайте о памяти – лучше используйте ее на все сто!\",\r\n      \"author\": \"Джонатан Хэнкок\",\r\n      \"image\": \"/images/book_image_18.jpg\",\r\n      \"price\": 399,\r\n      \"rating\": 5\r\n    }\r\n  ]\r\n\r\nexport const getBooks = () => (\r\n    (dispatch) => {\r\n        // booksAPI.getBooks().then(({ data }) => {\r\n        //     dispatch(setBooks(data));\r\n        //   }).catch(err => console.log(err))\r\n        dispatch(setBooks(stateForDemo));\r\n    }\r\n)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport App from './../components/App';\r\n\r\nimport orderBy from 'lodash/orderBy';\r\nimport { getBooks } from '../reducers/books';\r\n\r\n\r\nconst filterWithLodash = (books, filterBy) => {\r\n  switch (filterBy) {\r\n    case 'all':\r\n      return books\r\n    case 'price_high':\r\n      return orderBy(books, 'price', 'desc')\r\n    case 'price_low':\r\n      return orderBy(books, 'price', 'asc')\r\n    case 'author':\r\n      return orderBy(books, 'author', 'asc')\r\n    case 'alphabet':\r\n      return orderBy(books, 'title', 'asc')\r\n    default:\r\n      return books\r\n  }\r\n}\r\n\r\nconst queryFilter = (books, searchQuery) => {\r\n  return books.filter(o =>\r\n    o.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 ||\r\n    o.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0\r\n  );\r\n}\r\n\r\nconst searchBooks = (books, filterBy, searchQuery) => {\r\n  return filterWithLodash(queryFilter(books,searchQuery),filterBy);\r\n}\r\n\r\n\r\nclass AppContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.getBooks();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <App {...this.props}/>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = ({books, filter}) => {\r\n  return {\r\n    books: books.books && searchBooks(books.books, filter.filterBy,filter.searchQuery) ,\r\n    isReady: books.isReady\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getBooks})(AppContainer);\r\n","export const setBooks = (books) =>({\r\n    type: 'SET_BOOKS',\r\n    payload: books\r\n})","const initialState = {\r\n    goods: [ ]\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_BOOK_TO_CART':\r\n            return {\r\n                ...state,\r\n                goods: [...state.goods, action.payload]\r\n            }\r\n        case 'REMOVE_BOOK_FROM_CART':\r\n            return {\r\n                ...state,\r\n                goods: state.goods.filter( o=> o.id !== action.payload)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    filterBy: 'all',\r\n    searchQuery: ''\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'SET_FILTER_BY':\r\n            return {\r\n                ...state,\r\n                filterBy: action.payload\r\n            }\r\n        case 'SET_SEARCH_QUERY':\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport books from './books';\r\nimport cart from './cart';\r\nimport filter from './filter';\r\n\r\nexport default combineReducers({\r\n        books,\r\n        cart,\r\n        filter\r\n    });\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport rootReducers from './reducers';\r\n\r\n\r\nexport default createStore(rootReducers, applyMiddleware(logger,reduxThunk));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport 'semantic-ui-css/semantic.min.css';\nimport './app.css';\n\nimport App from './containers/App';\n\nimport store from './store';\n\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}