(this["webpackJsonpbooks-store"]=this["webpackJsonpbooks-store"]||[]).push([[0],{199:function(e,t,a){e.exports=a(383)},209:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"addBookToCart",(function(){return O})),a.d(n,"removeBookFromCart",(function(){return v}));var r={};a.r(r),a.d(r,"setFilterBy",(function(){return L})),a.d(r,"setSearchQuery",(function(){return M}));var o={};a.r(o),a.d(o,"setBooks",(function(){return Y}));var c=a(0),l=a.n(c),i=a(31),u=a.n(i),s=a(26),d=(a(208),a(209),a(18)),m=a(167),f=a(168),b=a(185),p=a(188),E=a(169),h=a.n(E),y=a(20),O=function(e){return{type:"ADD_BOOK_TO_CART",payload:e}},v=function(e){return{type:"REMOVE_BOOK_FROM_CART",payload:e}},g=a(394),k=a(384),_=a(187),j=a(396),B=a(393),C=function(e){var t=e.title,a=e.id,n=e.image,r=e.removeBookFromCart;return l.a.createElement(g.a,{selection:!0,divided:!0,verticalAlign:"middle"},l.a.createElement(g.a.Item,null,l.a.createElement(g.a.Content,{floated:"right"},l.a.createElement(k.a,{onClick:r.bind(null,a),color:"red"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),l.a.createElement(_.a,{avatar:!0,src:n}),l.a.createElement(g.a.Content,null,t)))},R=function(e){var t=e.totalPrice,a=e.quantityBooks,n=e.items;return l.a.createElement(j.a,null,l.a.createElement(j.a.Item,{name:"browse"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),l.a.createElement(j.a.Menu,{position:"right"},l.a.createElement(j.a.Item,{name:"signup"},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",l.a.createElement("b",null,t),"\xa0 \u0433\u0440\u043d."),l.a.createElement(B.a,{trigger:l.a.createElement(j.a.Item,{name:"help"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",l.a.createElement("b",null,a),")"),content:n.map((function(e){return l.a.createElement(C,e)})),on:"click",hideOnScroll:!0})))},T=a(183),w=a.n(T),I=Object(s.b)((function(e){var t=e.cart;return{totalPrice:t.goods.reduce((function(e,t){return e+t.price}),0),quantityBooks:t.goods.length,items:w()(t.goods,(function(e){return e.id}))}}),(function(e){return Object(d.a)({},Object(y.b)(n,e))}))(R),S=a(391),Q=a(395),A=function(e){var t=e.title,a=e.author,n=e.image,r=e.price,o=e.addBookToCart,c=e.quantityBooks;return l.a.createElement(Q.a,null,l.a.createElement(_.a,{src:n,wrapped:!0,ui:!1}),l.a.createElement(Q.a.Content,null,l.a.createElement(Q.a.Header,null,t),l.a.createElement(Q.a.Meta,null,l.a.createElement("span",{className:"date"},a))),l.a.createElement(Q.a.Content,{extra:!0},l.a.createElement("span",null,r," \u0433\u0440\u043d.")),l.a.createElement(k.a,{onClick:o.bind(null,e)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",c>0&&"(".concat(c,")")))},F=Object(s.b)((function(e,t){var a=e.cart,n=t.id;return{quantityBooks:a.goods.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),(function(e){return Object(d.a)({},Object(y.b)(n,e))}))(A),L=function(e){return{type:"SET_FILTER_BY",payload:e}},M=function(e){return{type:"SET_SEARCH_QUERY",payload:e}},K=a(390),D=function(e){var t=e.setFilterBy,a=e.filterBy,n=e.searchQuery,r=e.setSearchQuery;return l.a.createElement(j.a,{secondary:!0},l.a.createElement(j.a.Item,{active:"all"===a,onClick:t.bind(null,"all")},"\u0412\u0441\u0435"),l.a.createElement(j.a.Item,{active:"price_high"===a,onClick:t.bind(null,"price_high")},"\u0426\u0435\u043d\u0430(\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),l.a.createElement(j.a.Item,{active:"price_low"===a,onClick:t.bind(null,"price_low")},"\u0426\u0435\u043d\u0430(\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),l.a.createElement(j.a.Item,{active:"author"===a,onClick:t.bind(null,"author")},"\u0410\u0432\u0442\u043e\u0440"),l.a.createElement(j.a.Item,{active:"alphabet"===a,onClick:t.bind(null,"alphabet")},"\u0412 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435"),l.a.createElement(j.a.Item,null,l.a.createElement(K.a,{icon:"search",onChange:function(e){return r(e.target.value)},value:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441..."})))},q=Object(s.b)((function(e){var t=e.filter;return{filterBy:t.filterBy,searchQuery:t.searchQuery}}),(function(e){return Object(d.a)({},Object(y.b)(r,e))}))(D),x=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.setBooks;h.a.get("./books.json").then((function(t){var a=t.data;e(a)}))}},{key:"render",value:function(){var e=this.props.books;return l.a.createElement(S.a,null,l.a.createElement(I,null),l.a.createElement(q,null),l.a.createElement("div",{className:"margTop"},l.a.createElement(Q.a.Group,{itemsPerRow:4},this.props.isReady?e.map((function(e,t){return l.a.createElement(F,Object.assign({key:t},e))})):"Loading...")))}}]),a}(l.a.Component),Y=function(e){return{type:"SET_BOOKS",payload:e}},H=a(61),P=a.n(H),J=function(e,t,a){return function(e,t){switch(t){case"all":return e;case"price_high":return P()(e,"price","desc");case"price_low":return P()(e,"price","asc");case"author":return P()(e,"author","asc");case"alphabet":return P()(e,"title","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,a),t)},N=Object(s.b)((function(e){var t=e.books,a=e.filter;return{books:t.books&&J(t.books,a.filterBy,a.searchQuery),isReady:t.isReady}}),(function(e){return Object(d.a)({},Object(y.b)(o,e))}))(x),U=a(184),V=a.n(U),G={isReady:!1,books:null},z=a(186),W={goods:[]},X={filterBy:"all",searchQuery:""},Z=Object(y.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(d.a)({},e,{books:t.payload,isReady:!0});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK_TO_CART":return Object(d.a)({},e,{goods:[].concat(Object(z.a)(e.goods),[t.payload])});case"REMOVE_BOOK_FROM_CART":return Object(d.a)({},e,{goods:e.goods.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_BY":return Object(d.a)({},e,{filterBy:t.payload});case"SET_SEARCH_QUERY":return Object(d.a)({},e,{searchQuery:t.payload});default:return e}}}),$=Object(y.d)(Z,Object(y.a)(V.a));u.a.render(l.a.createElement(s.a,{store:$},l.a.createElement(N,null)),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.b373610f.chunk.js.map